import 'intl-pluralrules';
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import * as Localization from 'expo-localization';

const resources = {
  en: {
    translation: {
      work: 'Focus',
      shortBreak: 'Short Break',
      longBreak: 'Long Break',
      selectTheme: 'Select Theme',
      selectLanguage: 'Select Language',
      settings: 'Settings',
      preferences: 'Preferences',
      autoStart: 'Auto-start next cycle',
      autoStartDesc: 'Automatically starts the next session when current one ends',
      nextBreakType: 'Break type after focus',
      nextBreakTypeDesc: 'Choose which break to take after a focus session',
      shortBreakOption: 'Short Break (5 min)',
      shortBreakDesc: 'Quick refresh for sustained focus',
      longBreakOption: 'Long Break (15 min)',
      longBreakDesc: 'Extended rest for deeper recovery',
      language: 'Language',
      statistics: 'Statistics',
      today: 'Today',
      todaySessions: 'Sessions',
      todayMinutes: 'Focus Time',
      streaks: 'Streaks',
      currentStreak: 'Current',
      maxStreak: 'Best',
      day: 'day',
      days: 'days',
      allTime: 'All Time',
      totalSessionsAllTime: 'Total Sessions',
      totalFocusTime: 'Total Focus Time',
      bestHour: 'Most Productive Hour',
      congratulations: 'Congratulations!',
      pomodoroSetComplete: 'You completed a Pomodoro set! ðŸŽ‰',
      notificationWorkComplete: 'Focus session completed! ðŸŽ¯',
      notificationWorkCompleteBody: 'Great job! Time for a break.',
      notificationShortBreakComplete: 'Short break finished! â˜•',
      notificationShortBreakCompleteBody: 'Ready to focus again?',
      notificationLongBreakComplete: 'Long break finished! ðŸŒ´',
      notificationLongBreakCompleteBody: 'Refreshed and ready to work!',
      // Duration settings
      durationSettings: 'Duration Settings',
      focusDuration: 'Focus Duration',
      shortBreakDuration: 'Short Break Duration',
      longBreakDuration: 'Long Break Duration',
      minutes: 'min',
      // Tasks
      tasks: 'Tasks',
      addTask: 'Add Task',
      taskTitle: 'Task title...',
      estimatedPomodoros: 'Pomodoros',
      activeTasks: 'Active Tasks',
      completedTasks: 'Completed',
      noTasks: 'No tasks yet. Add your first task!',
      deleteTask: 'Delete Task',
      deleteTaskConfirm: 'Are you sure you want to delete this task?',
      cancel: 'Cancel',
      delete: 'Delete',
      save: 'Save',
      // Sound settings
      soundSettings: 'Sound Settings',
      alarmSound: 'Alarm Sound',
      vibration: 'Vibration',
      soundDefault: 'Default',
      soundBell: 'Bell',
      soundChime: 'Chime',
      soundDigital: 'Digital',
      soundNone: 'None',
      // Reports
      thisWeek: 'This Week',
      thisMonth: 'This Month',
      weeklyAverage: 'Daily Average',
      themes: {
        space: 'Space',
        sea: 'Sea',
        coast: 'Coast',
        forest: 'Forest',
        desert: 'Desert',
        city: 'City',
        sunset: 'Sunset',
        mountain: 'Mountain',
        polar: 'Polar',
        night: 'Night',
      }
    },
  },
  tr: {
    translation: {
      work: 'Odak',
      shortBreak: 'KÄ±sa Mola',
      longBreak: 'Uzun Mola',
      selectTheme: 'Tema SeÃ§',
      selectLanguage: 'Dil SeÃ§',
      settings: 'Ayarlar',
      preferences: 'Tercihler',
      autoStart: 'Sonraki dÃ¶ngÃ¼yÃ¼ otomatik baÅŸlat',
      autoStartDesc: 'Mevcut oturum bittiÄŸinde sonraki oturumu otomatik baÅŸlatÄ±r',
      nextBreakType: 'Odak sonrasÄ± mola tÃ¼rÃ¼',
      nextBreakTypeDesc: 'Odak oturumundan sonra hangi molayÄ± alacaÄŸÄ±nÄ±zÄ± seÃ§in',
      shortBreakOption: 'KÄ±sa Mola (5 dk)',
      shortBreakDesc: 'SÃ¼rekli odak iÃ§in hÄ±zlÄ± yenilenme',
      longBreakOption: 'Uzun Mola (15 dk)',
      longBreakDesc: 'Derin dinlenme iÃ§in uzun ara',
      language: 'Dil',
      statistics: 'Ä°statistikler',
      today: 'BugÃ¼n',
      todaySessions: 'Oturum',
      todayMinutes: 'Odak SÃ¼resi',
      streaks: 'Seriler',
      currentStreak: 'Mevcut',
      maxStreak: 'Rekor',
      day: 'gÃ¼n',
      days: 'gÃ¼n',
      allTime: 'TÃ¼m Zamanlar',
      totalSessionsAllTime: 'Toplam Oturum',
      totalFocusTime: 'Toplam Odak SÃ¼resi',
      bestHour: 'En Verimli Saat',
      congratulations: 'Tebrikler!',
      pomodoroSetComplete: '1 Pomodoro setini tamamladÄ±n! ðŸŽ‰',
      notificationWorkComplete: 'Odak oturumu tamamlandÄ±! ðŸŽ¯',
      notificationWorkCompleteBody: 'Harika iÅŸ! Mola zamanÄ±.',
      notificationShortBreakComplete: 'KÄ±sa mola bitti! â˜•',
      notificationShortBreakCompleteBody: 'Tekrar odaklanmaya hazÄ±r mÄ±sÄ±n?',
      notificationLongBreakComplete: 'Uzun mola bitti! ðŸŒ´',
      notificationLongBreakCompleteBody: 'Yenilendin ve Ã§alÄ±ÅŸmaya hazÄ±rsÄ±n!',
      // Duration settings
      durationSettings: 'SÃ¼re AyarlarÄ±',
      focusDuration: 'Odak SÃ¼resi',
      shortBreakDuration: 'KÄ±sa Mola SÃ¼resi',
      longBreakDuration: 'Uzun Mola SÃ¼resi',
      minutes: 'dk',
      // Tasks
      tasks: 'GÃ¶revler',
      addTask: 'GÃ¶rev Ekle',
      taskTitle: 'GÃ¶rev baÅŸlÄ±ÄŸÄ±...',
      estimatedPomodoros: 'Pomodoro',
      activeTasks: 'Aktif GÃ¶revler',
      completedTasks: 'Tamamlanan',
      noTasks: 'HenÃ¼z gÃ¶rev yok. Ä°lk gÃ¶revini ekle!',
      deleteTask: 'GÃ¶revi Sil',
      deleteTaskConfirm: 'Bu gÃ¶revi silmek istediÄŸinize emin misiniz?',
      cancel: 'Ä°ptal',
      delete: 'Sil',
      save: 'Kaydet',
      // Sound settings
      soundSettings: 'Ses AyarlarÄ±',
      alarmSound: 'Alarm Sesi',
      vibration: 'TitreÅŸim',
      soundDefault: 'VarsayÄ±lan',
      soundBell: 'Zil',
      soundChime: 'Ã‡an',
      soundDigital: 'Dijital',
      soundNone: 'KapalÄ±',
      // Reports
      thisWeek: 'Bu Hafta',
      thisMonth: 'Bu Ay',
      weeklyAverage: 'GÃ¼nlÃ¼k Ortalama',
      themes: {
        space: 'Uzay',
        sea: 'Deniz',
        coast: 'KÄ±yÄ±',
        forest: 'Orman',
        desert: 'Ã‡Ã¶l',
        city: 'Åžehir',
        sunset: 'GÃ¼n BatÄ±mÄ±',
        mountain: 'DaÄŸ',
        polar: 'Kutup',
        night: 'Gece',
      }
    },
  },
};

const getLocale = () => {
  const locales = Localization.getLocales();
  const languageCode = locales[0]?.languageCode || 'en';
  // Only support Turkish and English - if phone is Turkish, use Turkish, otherwise English
  return languageCode === 'tr' ? 'tr' : 'en';
}

i18n
  .use(initReactI18next)
  .init({
    resources,
    lng: getLocale(),
    fallbackLng: 'en',
    interpolation: {
      escapeValue: false,
    },
  });

export default i18n;
